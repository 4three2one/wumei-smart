(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d5971b"],{"93bb":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return b}));r("5530");var n=r("1da1"),a=(r("96cf"),r("d3b7"),r("99af"),r("bc3a")),o=r.n(a),i={ENC:!1,baseUrl:"http://locolhost:8888",code:401},c=i,s=(r("a18c"),c.baseUrl);o.a.CancelToken;o.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.common["Content-Type"]="application/json;charset=utf-8",e.headers.common["token"]=t,e}),(function(e){return console.log(e),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return 200!==e.status?Promise.reject(e):(e.data.code,c.code,e.data)}),(function(e){var t={success:!1,msg:"未知异常，请联系管理员！"};return Promise.reject(t)}));var u={headers:{enc:c.ENC}},l=function(e){return e},f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=l(r),e.next=4,o.a.get("".concat(s).concat(t),{params:r,headers:u.headers},u);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(t,{params:r});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=l(r),e.next=4,o.a.post("".concat(s).concat(t),r,u);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()},e100:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("93bb"),a={big1:"/bigscreen/countUserNum",big2:"/bigscreen/countDeviceNum",big3:"/bigscreen/sbtx",big4:"/bigscreen/alarmNum",big5:"/bigscreen/ssyj",big6:"/bigscreen/installationPlan",big7:"/bigscreen/ranking",big8:"/bigscreen/centermap"},o=function(e,t){return n["a"](a[e],t)}},e569:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.pageflag?r("Echart",{ref:"charts",staticClass:"left_center_inner",attrs:{id:"leftCenter",options:e.options}}):r("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:e.getData}},[e._v(" 重新获取 ")])},a=[],o=r("5530"),i=(r("a15b"),r("e100")),c={data:function(){return{options:{},countUserNumData:{lockNum:0,onlineNum:0,offlineNum:0,totalNum:0},pageflag:!0,timer:null}},created:function(){this.getData()},mounted:function(){},beforeDestroy:function(){this.clearData()},methods:{clearData:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData:function(){var e=this;this.pageflag=!0,Object(i["a"])("big1").then((function(t){e.timer||console.log("设备总览",t),t.success?(e.countUserNumData=t.data,e.$nextTick((function(){e.init(),e.switper()}))):(e.pageflag=!1,e.$Message({text:t.msg,type:"warning"}))}))},switper:function(){var e=this;if(!this.timer){var t=function(t){e.getData()};this.timer=setInterval(t,this.$store.state.settings.echartsAutoTime);var r=this.$refs.charts.chart;r.on("mouseover",(function(t){e.clearData()})),r.on("mouseout",(function(r){e.timer=setInterval(t,e.$store.state.settings.echartsAutoTime)}))}},init:function(){var e=this.countUserNumData.totalNum,t=["#ECA444","#33A1DB","#56B557"],r={name:"用户总览",type:"pie",radius:["42%","65%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"rgba(0,0,0,0)",borderWidth:2},color:t,data:[{value:this.countUserNumData.lockNum,name:"锁定",label:{shadowColor:t[0]}},{value:this.countUserNumData.onlineNum,name:"在线",label:{shadowColor:t[2]}},{value:this.countUserNumData.offlineNum,name:"离线",label:{shadowColor:t[1]}}]};this.options={title:{text:["{value|"+e+"}","{name|总数}"].join("\n"),top:"center",left:"center",textStyle:{rich:{value:{color:"#ffffff",fontSize:24,fontWeight:"bold",lineHeight:20},name:{color:"#ffffff",lineHeight:20}}}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},legend:{show:!1,top:"5%",left:"center"},series:[Object(o["a"])(Object(o["a"])({},r),{},{tooltip:{show:!0},label:{formatter:"   {b|{b}}   \n   {c|{c}个}   {per|{d}%}  ",rich:{b:{color:"#fff",fontSize:12,lineHeight:26},c:{color:"#31ABE3",fontSize:14},per:{color:"#31ABE3",fontSize:14}}},labelLine:{length:20,length2:36,show:!0,emphasis:{show:!0}}}),Object(o["a"])(Object(o["a"])({},r),{},{tooltip:{show:!0},itemStyle:{},label:{backgroundColor:"auto",height:0,width:0,lineHeight:0,borderRadius:2.5,shadowBlur:8,shadowColor:"auto",padding:[2.5,-2.5,2.5,-2.5]},labelLine:{length:20,length2:36,show:!1}})]}}}},s=c,u=r("2877"),l=Object(u["a"])(s,n,a,!1,null,"726e7123",null);t["default"]=l.exports}}]);